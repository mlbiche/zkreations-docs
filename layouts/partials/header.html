<div class="container">
  <div class="header-wrapper">
    <button class="header-toggle" id="toggle-menu" aria-label="toggle navigation">
      {{ partial "svg" (dict "icon" "bars") }}
    </button>
    <div class="header-logo fw-500">
      <a class="has-icon i-md" href="{{ $.Site.BaseURL }}{{- with .Section -}}{{ . }}{{ end }}">
        {{ partial "svg" (dict "icon" $.Site.Params.main_icon) }}
        {{- .Site.Title | title -}}
      </a>
    </div>
    <div class="header-right">
      <!-- Dark mode toggle -->
      <button class="theme-toggle" data-outside="docs-mode" aria-label='{{ i18n "system" }}'>
        {{ partial "svg" (dict "icon" "sun") }}
      </button>

      <!-- Language toggle -->
      {{- if .Site.IsMultiLingual -}}
        <button class="lang-toggle" data-outside="docs-lang" aria-label='{{ i18n "languages" }}'>
          {{ partial "svg" (dict "icon" "language") }}
        </button>
      {{- end -}}

      <a class="toc-toggle" href="#doc" aria-label="toggle toc">
        {{ partial "svg" (dict "icon" "bars-sort") }}
      </a>

      {{- with .Section -}}
        <button class="toggle-version" data-outside="docs-versions" aria-label='{{ i18n "versions" }}'>
          {{ . }}
        </button>
      {{- end -}}
    </div>

    <div class="dropdown" id="docs-mode">
      <div class="list fw-500 theme-handle">
        <button class="list-link has-icon" data-theme="system">
          {{ partial "svg" (dict "icon" "desktop") }}
          {{ i18n "system" }}
        </button>
        <button class="list-link has-icon" data-theme="light">
          {{ partial "svg" (dict "icon" "sun") }}
          {{ i18n "light" }}
        </button>
        <button class="list-link has-icon" data-theme="dark">
          {{ partial "svg" (dict "icon" "moon") }}
          {{ i18n "dark" }}
        </button>
      </div>
    </div>

    {{- with .Section -}}
      <div class="dropdown" id="docs-versions">
        <div class="list fw-500">
          {{ range $.Site.Sections }}
            <a class="list-link" href="{{ .Permalink }}">{{ .Section }}</a>
          {{ end }}
          <a class="list-link" href="{{ $.Site.BaseURL }}">{{ i18n "versions" }}</a>
        </div>
      </div>
    {{- end -}}
    
    {{- if .Site.IsMultiLingual -}}
      <div class="dropdown" id="docs-language">
        <div class="list fw-500">
          {{ range $.Site.Home.Translations }}
            <a class="list-link" href="{{ .Permalink }}">{{ .Language.LanguageName }}</a>
          {{ end }}
        </div>
      </div>
    {{- end -}}
    
  </div>
</div>